<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Relative velocity </title>
    <script src = "js/fabric.min.js"></script>
    <script src = "js/Box2d.min.js"></script>
    <script src = "js/jquery-1.10.2.js"></script>
   
    
</head>
<body>
    <!-- Insert your content here -->
    <h3> Relative Velocity</h3><br><br>
    <canvas id="c" width="640" height="480" style="border: 1px solid black"></canvas>
    <script>
        var rect, rect1, canvas;
        var v1, v2;
        $(function () {
            canvas = new fabric.Canvas('c');
              rect = new fabric.Rect({
                left: 100,
                top: 100,
                fill: 'red',
                width: 20,
                height: 20
            });
            rect1 = new fabric.Rect({
                left: 100,
                top: 200,
                fill: 'red',
                width: 20,
                height: 20
            });
            
           

// "add" rectangle onto canvas
        canvas.add(rect);
        canvas.add(rect1);
         
        });
        function defineVelocity() {
            //code
            redraw();
            v1 = 500/document.getElementById("vel1").value;
            v2 = 500/document.getElementById("vel2").value;
            console.log(v1);
            console.log(v2);
            simulate();
        }
        function simulate() {
             rect.animate('left', '+=500', {
                    onChange: canvas.renderAll.bind(canvas),
                    duration: v1*100
            });
            
           rect1.animate('left', '+=500', {
                onChange: canvas.renderAll.bind(canvas),
                duration: v2*100
            });
          //redraw();
           
        }
        function redraw() {
                canvas.remove(rect);
                canvas.remove(rect1);
               rect = new fabric.Rect({
                left: 100,
                top: 100,
                fill: 'red',
                width: 20,
                height: 20
            });
            rect1 = new fabric.Rect({
                left: 100,
                top: 200,
                fill: 'red',
                width: 20,
                height: 20
            });
            
           

// "add" rectangle onto canvas
        canvas.add(rect);
        canvas.add(rect1);
        }
    </script>
    <img src = "img/car1.jpg" id = "car1"><img src = "img/car2.jpg">
    <br>
    <label> Velocity of car1</label>  <input id = "vel1" name = "vel1" ><br>
    <label> Velocity of car2</label>  <input id = "vel2" name = "vel2" ><br>
    <input type= "button"  value="Go" onclick="defineVelocity()" style ="margin-bottom:10px;">
</body>
</html>
