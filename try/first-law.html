<!DOCTYPE html>
<html>
<head>
	<title>EaselJS demo: Simple animation</title>
	<link href="../css/demo.css" rel="stylesheet" type="text/css">
	<script src="../js/createjs.js"></script>
    <script type="application/x-javascript" src="../js/jquery-1.10.2.js"><![CDATA[
    //]]>
    </script>
	<script>
		
		var stage, circle;
        var bitmap;
        var rect;
        var flag = 0;

		$(function (){
            
			stage = new createjs.Stage("demoCanvas");
			bitmap = new createjs.Bitmap("../img/car1.jpg")
            rect = new createjs.Rectangle(0, 0, 100, 100);
            //stage.addChild(rect);
           // rect.graphics.beginFill("blue");
           // bitmap.sourceRect = rect;
            bitmap.scaleX = 0.25;
            bitmap.scaleY = 0.25;
            bitmap.y = 150;
            bitmap.x = -50;
			circle = new createjs.Shape();
			circle.graphics.beginFill("red").drawCircle(50, 100, 40);
			circle.y = 50;
            football = new createjs.Bitmap("../img/cartoon_soccer.gif");
            football.scaleX = 0.25;
            football.scaleY = 0.25;
            football.y = 150;
            football.x = 20;
			stage.addChild(football);
            bat = new createjs.Bitmap("../img/bat.jpg");
            bat.scaleY = 0.5;
            bat.y = 100;
            bat.x = -20;
           // stage.addChild(bitmap);
			
            createjs.Ticker.addEventListener("tick", stage);
            //createjs.Ticker.addEventListener("tick", tick);
			//createjs.Ticker.on("tick", tick);
            stage.addEventListener("stagemousedown", handleMouseDown);
            stage.addEventListener("stagemouseup", handleMouseUp);
			createjs.Ticker.setFPS(30);
		}
        );
		
		function tick(event) {
            stage.addChild(bat);
            bat.x = bat.x + 15;
			football.x = football.x + 7;
			if (football.x > stage.canvas.width) { football.x = 0; }
            if (bat.x > 15) {
                stage.removeChild(bat);
            }
			stage.update(event); // important!!
		}
        function handleMouseDown(event) {
            if (flag == 0) {
                createjs.Ticker.addEventListener("tick",tick);
                flag = 1;
            }
            else if (flag == 1) {
                bat.x = football.x + 40;
                stage.addChild(bat);
                createjs.Ticker.removeEventListener("tick",tick);
                flag =0;
            }
        }
       
        
	</script>
</head>
<body>
	<canvas id="demoCanvas" width="500" height="200" style = "background:url('../img/city.jpg')">
		alternate content
	</canvas>
</body>
</html>